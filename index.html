<!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <link rel="stylesheet" href="styles.css" >
  </head>
  <body>
    <div id="map"></div>
    <div id="infoBox">
        <h1 id="castleTitle">Castle Title</h1>
        <div class="flex">
            <img id="castlePhoto" src="sanadaflag.png" />
            <div id="mainInfo">
                <h3 id="castleDate">Built: </h3>
                <h3 id="castleOwner">Built By: </h3>
            </div>
        </div>
        <p id="castleInfo">Information: </p>
    </div>
    <script>
      var map;
      let castles = [
          {position:{lat: 36.29739303213108, lng: 138.53031026316654},
          title: "Nashizawa-jo",
          icon: "sanadaflag.png",
          owner: "Ooi Shouji",
          built: "1221",
          information: "Built close by to modern day Housho-jinja, Nashizawa-jo was a fortified mansion from the Kamakura period. Today nothing remains, and the castle site is currently a residential area."},
          {position: {lat:36.2264890777211, lng:138.44140826285997},
          title: "Maeyama-jo",
          icon: "sanadaflag.png",
          owner: "Tomono Mitsutoshi",
          built: "Approx 1475",
          information: "Built on a hill overlooking the Nakazawa river. The castle was captured multiple times by the Takeda, and today little remains."},
          {position: {lat:36.196111, lng:138.501667},
          title: "Tatsuoka-jo",
          icon: "sanadaflag.png",
          owner: "Matsudaira Noritaka",
          built: "1867",
          information: "One of only 2 pentagonal castles in Japan, Tatsuoka-jo was a short lived fortress built in late Edo period, and torn down early in the Meiji period. Parts of the walls and moat remain, and the inside is currently a school."}
      ];

      function initMap() {
          const myLatLng = { lat: 36.29739303213108, lng: 138.53031026316654 };

          map = new google.maps.Map(document.getElementById('map'), {
              center: myLatLng,
              zoom: 10
          }
      );

      castles.forEach(function(castle) {
          var castle = new google.maps.Marker({
              position: castle.position,
              map,
              title: castle.title,
              icon: castle.icon,
              owner: castle.owner,
              built: castle.built,
              information: castle.information
            })

          google.maps.event.addListener(castle, 'click', function() {
              console.log("click")
             document.getElementById('castleTitle').innerHTML = castle.title;
             document.getElementById('castleDate').innerHTML = "Built: " + castle.built;
             document.getElementById('castleOwner').innerHTML = "Built by: " + castle.owner;
             document.getElementById('castleInfo').innerHTML =  castle.information;
             document.getElementById('castlePhoto').src = castle.title + ".png" ;
          });


      });





  };


    </script>



    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBAUhK-BBhqBr8y_CBwknX0tJwHVtHHz30&callback=initMap"
    async defer></script>


  </body>
</html>
